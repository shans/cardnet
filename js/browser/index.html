<link rel='import' href='cardnet.html'>

<style>
#empty {
  stroke: transparent;
}

#fold {
  stroke: red;
}

</style>

<div id='container'></div>
<script>
var base = rect('width', 'depth', 'solid');
base.join(rect('depth', 'height', 'solid'), 1, 0);
base.join(rect('depth', 'height', 'solid'), 3, 0);

var front = base.join(rect('width', 'height', 'solid'), 2, 0);
front.join(tabShape('height', 'tabdepth', 'tabindent', 'solid'), 1, 0);
front.join(tabShape('height', 'tabdepth', 'tabindent', 'solid'), 3, 0);

var back = base.join(rect('width', 'height', 'solid'), 0, 0);
back.join(tabShape('height', 'tabdepth', 'tabindent', 'solid'), 1, 0);
back.join(tabShape('height', 'tabdepth', 'tabindent', 'solid'), 3, 0);

var lid = front.join(rect('width', 'depth', 'solid', id='lid'), 2, 0);
lid.join(tabShape('width', 'tabdepth', 'tabindent', 'solid'), 2, 0);
lid.join(tabShape('depth', 'tabdepth', 'tabindent', 'solid'), 3, 0);
lid.join(tabShape('depth', 'tabdepth', 'tabindent', 'solid'), 1, 0);

var styleRules = 
  [
    new Rule(new ElementSelector('tabShape'), {tabdepth: 5, tabindent: 4}),
    new Rule(new ComplexSelector(new IDSelector('lid')).append(Descendant, new ElementSelector('tabShape')), {tabdepth: 10})
  ];


var svg = toSVG([{shape: base.resolve({width: 20, depth: 30, height: 40}, styleRules), point: new Point(50, 50)}]);
container.append(svg);

</script>

